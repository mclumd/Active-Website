<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Table Formatting Functions</TITLE>
<META NAME="description" CONTENT="Table Formatting Functions">
<META NAME="keywords" CONTENT="clim">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="clim.css">

<LINK REL="next" HREF="node176.html">
<LINK REL="previous" HREF="node174.html">
<LINK REL="up" HREF="node173.html">
<LINK REL="next" HREF="node176.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html3143"
 HREF="node176.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html3139"
 HREF="node173.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html3133"
 HREF="node174.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html3141"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html3144"
 HREF="node176.html">The Table and Item</A>
<B> Up:</B> <A NAME="tex2html3140"
 HREF="node173.html">Table Formatting</A>
<B> Previous:</B> <A NAME="tex2html3134"
 HREF="node174.html">Overview of Table Formatting</A>
 &nbsp <B>  <A NAME="tex2html3142"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION06320000000000000000">
Table Formatting Functions</A>
</H1>

<P>
formatting-table (<TT> &amp;optional </TT>stream
                               <TT> &amp;key </TT>x-spacing y-spacing
                                    multiple-columns multiple-columns-x-spacing
                                    equalize-column-widths 
                                    (move-cursor t) record-type)
                              <TT> &amp;body </TT>body

<P>
Binds the local environment in such a way the output of <I> body</I> will be done
in a tabular format.  This must be used in conjunction with formatting-row
or formatting-column, and formatting-cell.  The table is placed so
that its upper left corner is at the current text cursor position of
<I> stream</I>.  If the boolean <I> move-cursor</I> is <I> true</I> (the default),
then the text cursor will be moved so that it immediately follows the last cell
of the table.

<P>
The returned value is the output record corresponding to the table.

<P>
 
<I> stream</I> is an output recording stream to which output will be done.  The
<I> stream</I> argument is not evaluated, and must be a symbol that is bound to a
stream.  If <I> stream</I> is t (the default), *standard-output* is
used.  <I> body</I> may have zero or more declarations as its first forms.

<P>
 
<I> x-spacing</I> specifies the number of units of spacing to be inserted between
columns of the table; the default is the width of a space character in the
current text style.  <I> y-spacing</I> specifies the number of units of spacing to
be inserted between rows in the table; the default is the default vertical
spacing of the stream.  Possible values for these two options option are:

<P>

<UL>
<LI>An integer--a size in the current units to be used for spacing.

<P>
 </LI>
<LI>A string or character--the spacing is the width or height of the string
or character in the current text style. 

<P>
 </LI>
<LI>A function--the spacing is the amount of horizontal or vertical space the
function would consume when called on the stream. 

<P>
 </LI>
<LI>A list--the list is of the form (<I> number</I> <I> unit</I>), where
<I> unit</I> is one of :point, :pixel, :mm, :character, or
:line.  When <I> unit</I> is :character, the width of an ``M'' in the
current text style is used as the width of one character.</LI>
</UL>

<P>
 
<I> multiple-columns</I> is either nil, t, or an integer.  If it is
t or an integer, the table rows will be broken up into a multiple columns.
If it is t, CLIM will determine the optimal number of columns.  If it is an
integer, it will be interpreted as the desired number of columns.
<I> multiple-columns-x-spacing</I> has the same format as <I> x-spacing</I>.  It
controls the spacing between the multiple columns.  It defaults to the value of
the <I> x-spacing</I> option.

<P>
When the boolean <I> equalize-column-widths</I> is <I> true</I>, CLIM will make all
of the columns have the same width (the width of the widest cell in any column
in the entire table).

<P>
 
<I> record-type</I> specifies the class of output record to create.  The default
is standard-table-output-record.  This argument should only be supplied by
a programmer if there is a new class of output record that supports the table
formatting protocol.

<P>
formatting-row (<TT> &amp;optional </TT>stream <TT> &amp;key </TT>record-type)
                            <TT> &amp;body </TT>body 

<P>
Binds the local environment in such a way the output of <I> body</I> will be
grouped into a table row.  All of the output performed by <I> body</I> becomes the
contents of one row.  This must be used inside of formatting-table, and in
conjunction with formatting-cell.

<P>
 
<I> stream</I> is an output recording stream to which output will be done.  The
<I> stream</I> argument is not evaluated, and must be a symbol that is bound to a
stream.  If <I> stream</I> is t (the default), *standard-output* is
used.  <I> body</I> may have zero or more declarations as its first forms.

<P>
Once a table has had a row added to it via formatting-row, no columns may
be added to it.

<P>
 
<I> record-type</I> specifies the class of output record to create.  The default
is standard-row-output-record.  This argument should only be supplied by a
programmer if there is a new class of output record that supports the row
formatting protocol.

<P>
formatting-column (<TT> &amp;optional </TT>stream <TT> &amp;key </TT>record-type)
                               <TT> &amp;body </TT>body 

<P>
Binds the local environment in such a way the output of <I> body</I> will be
grouped into a table column.  All of the output performed by <I> body</I> becomes
the contents of one column.  This must be used inside of formatting-table,
and in conjunction with formatting-cell.

<P>
 
<I> stream</I> is an output recording stream to which output will be done.  The
<I> stream</I> argument is not evaluated, and must be a symbol that is bound to a
stream.  If <I> stream</I> is t (the default), *standard-output* is
used.  <I> body</I> may have zero or more declarations as its first forms.

<P>
Once a table has had a column added to it via formatting-column, no rows
may be added to it.

<P>
 
<I> record-type</I> specifies the class of output record to create.  The default
is standard-column-output-record.  This argument should only be supplied
by a programmer if there is a new class of output record that supports the
column formatting protocol.

<P>
formatting-cell (<TT> &amp;optional </TT>stream
                              <TT> &amp;key </TT>(align-x ':left) (align-y ':baseline) 
                                   min-width min-height record-type)
                             <TT> &amp;body </TT>body

<P>
Controls the output of a single cell inside a table row or column, or of a
single item inside formatting-item-list.  All of the output performed by
<I> body</I> becomes the contents of the cell.

<P>
 
<I> stream</I> is an output recording stream to which output will be done.  The
<I> stream</I> argument is not evaluated, and must be a symbol that is bound to a
stream.  If <I> stream</I> is t (the default), *standard-output* is
used.  <I> body</I> may have zero or more declarations as its first forms.

<P>
 
<I> align-x</I> specifies how the output in a cell will be aligned relative to
other cells in the same table column.  The default, :left, causes the cells
to be flush-left in the column.  The other possible values are :right
(meaning flush-right in the column) and :center (meaning centered in the
column).  Each cell within a column may have a different alignment; thus it is
possible, for example, to have centered legends over flush-right numeric data.

<P>
 
<I> align-y</I> specifies how the output in a cell will be aligned vertically.
The default, :baseline, causes textual cells to be aligned along their
baselines and graphical cells to be aligned at the bottom.  The other possible
values are :bottom (align at the bottom of the output), :top (align at
the top of the output), and :center (center the output in the cell).

<P>
 
<I> min-width</I> and <I> min-height</I> are used to specify minimum width or height
of the cell.  The default, nil, causes the cell to be only as wide or high
as is necessary to contain the cell's contents.  Otherwise, <I> min-width</I> and
<I> min-height</I> are specified in the same way as the :x-spacing and
:y-spacing arguments to formatting-table.

<P>
 
<I> record-type</I> specifies the class of output record to create.  The default
is standard-cell-output-record.  This argument should only be supplied by
a programmer if there is a new class of output record that supports the cell
formatting protocol.

<P>
formatting-item-list (<TT> &amp;optional </TT>stream
                                   <TT> &amp;key </TT>x-spacing y-spacing
                                        n-columns n-rows 
                                        stream-width stream-height max-width max-height
                                        initial-spacing 
                                        (move-cursor t) record-type) 
                                  <TT> &amp;body </TT>body

<P>
Binds the local environment in such a way that the output of <I> body</I> will be
done in an item list (that is, menu) format.  This must be used in conjunction
with formatting-cell, which delimits each item.  The item list is placed so
that its upper left corner is at the current text cursor position of
<I> stream</I>.  If the boolean <I> move-cursor</I> is <I> true</I> (the default),
then the text cursor will be moved so that it immediately follows the last cell
of the item list.

<P>
 
``Item list output'' is more strictly defined as: each row of the item list
consists of a single cell.  Rows are placed with the first row on top, and each
succeeding row has its top aligned with the bottom of the previous row (plus the
specified <I> y-spacing</I>).  Multiple rows and columns are constructed after
laying the item list out in a single column.  Item list output takes place in a
normalized +2#2-downward coordinate system.

<P>
The returned value is the output record corresponding to the table.

<P>
 
<I> stream</I> is an output recording stream to which output will be done.  The
<I> stream</I> argument is not evaluated, and must be a symbol that is bound to a
stream.  If <I> stream</I> is t (the default), *standard-output* is
used.  <I> body</I> may have zero or more declarations as its first forms.

<P>
 
<I> x-spacing</I> specifies the number of units of spacing to be inserted between
columns of the item list; the default is the width of a <code>#\Space</code> character
in the current text style.  <I> y-spacing</I> specifies the number of units of
spacing to be inserted between rows in the item list; the default is default
vertical spacing of the stream.  The format of these arguments is as for
formatting-table.

<P>
When the boolean <I> equalize-column-widths</I> is <I> true</I>, CLIM will make all
of the columns have the same width (the width of the widest cell in any column
in the entire item list).

<P>
 
<I> n-columns</I> and <I> n-rows</I> specify the number of columns or rows in the
item list.  The default for both is nil, which causes CLIM to pick an
aesthetically pleasing layout, possibly constrained by the other options.  If
both <I> n-columns</I> and <I> n-rows</I> are supplied and the item list contains
more elements than will fit according to the specification, CLIM will format the
item list as if <I> n-rows</I> were supplied as nil.

<P>
 
<I> max-width</I> and <I> max-height</I> constrain the layout of the item list.
CLIM will not make the item list any wider than <I> max-width</I>, unless it is
overridden by <I> n-rows</I>.  It will not make the item list any taller than
<I> max-height</I>, unless it is overridden by <I> n-columns</I>.

<P>
formatting-item-list normally spaces items across the entire width of the
stream.  When <I> initial-spacing</I> is <I> true</I>, it inserts some whitespace
(about half as much space as is between each item) before the first item on each
line.  When it is <I> false</I> (the default), the initial whitespace is not
inserted.

<P>
 
<I> record-type</I> specifies the class of output record to create.  The default
is standard-item-list-output-record.  This argument should only be
supplied by a programmer if there is a new class of output record that supports
the item list formatting protocol.

<P>
format-items items <TT> &amp;key </TT>stream printer presentation-type
                                  x-spacing y-spacing
                                  n-columns n-rows
                                  max-width max-height
                                  cell-align-x cell-align-y
                                  initial-spacing
                                  (move-cursor t) record-type

<P>
This is a function interface to the item list formatter.  The elements of the
sequence <I> items</I> are formatted as separate cells within the item list.

<P>
 
<I> stream</I> is an output recording stream to which output will be done.  It
defaults to *standard-output*.

<P>
 
<I> printer</I> must be a function that takes two arguments, an item and a stream,
and outputs the item on the stream.  <I> printer</I> has dynamic extent.  The
default for <I> printer</I> is prin1.

<P>
 
<I> presentation-type</I> is a presentation-type.  When <I> printer</I> is not
supplied, the items will be printed as if <I> printer</I> were
<PRE>

#'(lambda (item stream)
    (present item presentation-type :stream stream))
</PRE>
When <I> printer</I> is supplied, each item will be enclosed in a presentation
whose type is <I> presentation-type</I>.

<P>
 
<I> x-spacing</I>, <I> y-spacing</I>, <I> n-columns</I>, <I> n-rows</I>,
<I> max-width</I>, <I> max-height</I>, <I> initial-spacing</I>, and <I> move-cursor</I>
are as for formatting-item-list.

<P>
 
<I> cell-align-x</I> and <I> cell-align-y</I> are used to supply :align-x and
:align-y to an implicitly used formatting-cell.

<P>
 
<I> record-type</I> is as for formatting-item-list.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html3143"
 HREF="node176.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html3139"
 HREF="node173.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html3133"
 HREF="node174.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html3141"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html3144"
 HREF="node176.html">The Table and Item</A>
<B> Up:</B> <A NAME="tex2html3140"
 HREF="node173.html">Table Formatting</A>
<B> Previous:</B> <A NAME="tex2html3134"
 HREF="node174.html">Overview of Table Formatting</A>
 &nbsp <B>  <A NAME="tex2html3142"
 HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>&</I>
<BR><I>2001-06-12</I>
</ADDRESS>
</BODY>
</HTML>
