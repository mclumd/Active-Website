<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Graphics Protocols</TITLE>
<META NAME="description" CONTENT="Graphics Protocols">
<META NAME="keywords" CONTENT="clim">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="clim.css">

<LINK REL="previous" HREF="node114.html">
<LINK REL="up" HREF="node105.html">
<LINK REL="next" HREF="node116.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html2319"
 HREF="node116.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html2315"
 HREF="node105.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html2311"
 HREF="node114.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html2317"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2320"
 HREF="node116.html">General Behavior of Drawing</A>
<B> Up:</B> <A NAME="tex2html2316"
 HREF="node105.html">Graphics</A>
<B> Previous:</B> <A NAME="tex2html2312"
 HREF="node114.html">Pixmaps</A>
 &nbsp <B>  <A NAME="tex2html2318"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION05360000000000000000"></A><A NAME="graphics-protocols"></A>
<BR>
Graphics Protocols
</H1>

<P>
Every medium must implement methods for the various graphical drawing generic
functions.  Furthermore, every sheet that supports the standard output protocol
must implement these methods as well; often, the sheet methods will trampoline
to the methods on the sheet's medium.  All of these generic functions take the
same arguments as the non-generic spread function equivalents, except the
arguments that are keyword arguments in the non-generic functions are positional
arguments in the generic functions.

<P>
Every port must implement methods for the various graphical drawing generic
functions.  All of these generic functions take as (specialized) arguments the
port and medium, followed by an 1#1 and a 2#2 offset, followed by the drawing
function-specific arguments, followed by the ink, line style (or text style),
and clipping region.

<P>
The drawing function-specific arguments will either be 1#1 and 2#2 positions, or
a sequence of 1#1 and 2#2 positions.  These positions will be in medium
coordinates, and must be transformed by applying the medium's device
transformation in order to produce device coordinates.  The 1#1 and 2#2 offsets
are real numbers that can be used to optimize the implementation of a simple
scrolling transformation.  These offsets must be added to the positions before
the device transformation is applied.  Note that the user transformation will
have already been applied to the positions when the port-specific drawing
function is called.

<P>
The ink, line style (or text style), and clipping regions arguments are
optional, and default from the medium (medium-ink, medium-line-style
(or medium-current-text-style), and medium-clipping-region,
respectively).  Each port method will decode the ink, line (or text) style, and
clipping region in a port-specific way and communicate it to the underlying
port.

<P>
SWM Do we need define-graphics-generic and
define-graphics-method, or whatever, so that the graphics protocol is
easier to extend?  Such things should also help define the hooks into output
recording.

<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html2321"
 HREF="node116.html">General Behavior of Drawing Functions</A>
<LI><A NAME="tex2html2322"
 HREF="node117.html">Medium-specific Drawing Functions</A>
<LI><A NAME="tex2html2323"
 HREF="node118.html">Port-specific Drawing Functions</A>
</UL>
<!--End of Table of Child-Links-->
<HR>
<!--Navigation Panel-->
<A NAME="tex2html2319"
 HREF="node116.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html2315"
 HREF="node105.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html2311"
 HREF="node114.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html2317"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2320"
 HREF="node116.html">General Behavior of Drawing</A>
<B> Up:</B> <A NAME="tex2html2316"
 HREF="node105.html">Graphics</A>
<B> Previous:</B> <A NAME="tex2html2312"
 HREF="node114.html">Pixmaps</A>
 &nbsp <B>  <A NAME="tex2html2318"
 HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>&</I>
<BR><I>2001-06-12</I>
</ADDRESS>
</BODY>
</HTML>
