<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Bordered Output</TITLE>
<META NAME="description" CONTENT="Bordered Output">
<META NAME="keywords" CONTENT="clim">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="clim.css">

<LINK REL="next" HREF="node185.html">
<LINK REL="previous" HREF="node181.html">
<LINK REL="up" HREF="node146.html">
<LINK REL="next" HREF="node185.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html3251"
 HREF="node185.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html3247"
 HREF="node146.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html3241"
 HREF="node183.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html3249"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html3252"
 HREF="node185.html">Text Formatting</A>
<B> Up:</B> <A NAME="tex2html3248"
 HREF="node146.html">Extended Stream Output Facilities</A>
<B> Previous:</B> <A NAME="tex2html3242"
 HREF="node183.html">The Graph Formatting Protocols</A>
 &nbsp <B>  <A NAME="tex2html3250"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION06500000000000000000"></A>
<A NAME="bordered-output"></A>
<BR>
Bordered Output
</H1>

<P>
CLIM provides a mechanism for surrounding arbitrary output with some kind of a
border.  The programmer annotates some output-generating code with an advisory
macro that describes the type of border to be drawn.  The following code
produces the output shown in Figure&nbsp;<A HREF="node184.html#border-example">19.1</A>.

<P>
For example, the following produces a piece of output surrounded by a rectangle.
<PRE>

(defun border-test (stream)
  (fresh-line stream)
  (surrounding-output-with-border (stream :shape :rectangle)
    (format stream "This is some output with a rectangular border"))
  (terpri stream) (terpri stream)
  (surrounding-output-with-border (stream :shape :drop-shadow)
    (format stream "This has a drop-shadow under it"))
  (terpri stream) (terpri stream)
  (surrounding-output-with-border (stream :shape :underline)
    (format stream "And this output is underlined")))
</PRE>

<P>

<P></P>
<DIV ALIGN="CENTER"><A NAME="border-example"></A><A NAME="20822"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure:</STRONG>
Examples of bordered output.</CAPTION>
<TR><TD>83#83</TD></TR>
</TABLE>
</DIV><P></P>

<P>
surrounding-output-with-border (<TT> &amp;optional </TT>stream
                                             <TT> &amp;key </TT>shape (move-cursor t))
                                            <TT> &amp;body </TT>body

<P>
Binds the local environment in such a way the output of <I> body</I> will be
surrounded by a border of the specified shape.  Every implementation must
support the shapes :rectangle (the default), :drop-shadow, and
:underline.  :rectangle draws a rectangle around the bounding
rectangle of the output.  :drop-shadow draws a ``drop shadow'' around the
lower right edge of the bounding rectangle of the output.  :underline draws
a thin line along the baseline of all of the text in the output, but does not
draw anything underneath non-textual output.

<P>
If the boolean <I> move-cursor</I> is <I> true</I> (the default), then the text
cursor will be moved so that it immediately follows the lower right corner of
the bordered output.

<P>
 
<I> stream</I> is an output recording stream to which output will be done.
The <I> stream</I> argument is not evaluated, and must be a symbol that is
bound to a stream.  If <I> stream</I> is t (the default),
*standard-output* is used.  <I> body</I> may have zero or more
declarations as its first forms.

<P>
There are several strategies for implementing borders.  One strategy is to
create a ``border output record'' that contains the output records produced by
the output of <I> body</I>, plus one or more output records that represent the
border.  Another strategy might be to arrange to call the border drawer at the
approriate times without explicitly recording it.

<P>
define-border-type shape arglist <TT> &amp;body </TT>body

<P>
Defines a new kind of border named <I> shape</I>.  <I> arglist</I> must be a subset
of the ``canonical'' arglist below (using string-equal to do the
comparison):

<BR>
<I> (<TT> &amp;key </TT>stream record left top right bottom)</I>

<BR>

<P>
 
<I> body</I> is the code that actually draws the border.  It has lexical access to
stream, record, left, top, right, and bottom,
which are respectively, the stream being drawn on, the output record being
surrounded, and the coordinates of the left, top, right, and bottom edges of the
bounding rectangle of the record.  <I> body</I> may have zero or more declarations
as its first forms.

<HR>
<!--Navigation Panel-->
<A NAME="tex2html3251"
 HREF="node185.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html3247"
 HREF="node146.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html3241"
 HREF="node183.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html3249"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html3252"
 HREF="node185.html">Text Formatting</A>
<B> Up:</B> <A NAME="tex2html3248"
 HREF="node146.html">Extended Stream Output Facilities</A>
<B> Previous:</B> <A NAME="tex2html3242"
 HREF="node183.html">The Graph Formatting Protocols</A>
 &nbsp <B>  <A NAME="tex2html3250"
 HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>&</I>
<BR><I>2001-06-12</I>
</ADDRESS>
</BODY>
</HTML>
