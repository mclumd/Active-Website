<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Arbitrary Designs</TITLE>
<META NAME="description" CONTENT="Arbitrary Designs">
<META NAME="keywords" CONTENT="clim">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="clim.css">

<LINK REL="next" HREF="node140.html">
<LINK REL="previous" HREF="node138.html">
<LINK REL="up" HREF="node134.html">
<LINK REL="next" HREF="node140.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html2631"
 HREF="node140.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html2627"
 HREF="node134.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html2621"
 HREF="node138.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html2629"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2632"
 HREF="node140.html">Examples of More Complex</A>
<B> Up:</B> <A NAME="tex2html2628"
 HREF="node134.html">Patterned Designs</A>
<B> Previous:</B> <A NAME="tex2html2622"
 HREF="node138.html">Regions as Designs</A>
 &nbsp <B>  <A NAME="tex2html2630"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION05550000000000000000">
Arbitrary Designs</A>
</H1>

<P>
draw-design sheet design <TT> &amp;key </TT>ink clipping-region transformation-style line-thickness line-unit line-dashes line-joint-shape line-cap-shape text-style text-family text-face text-size

<P>
Draws the <I> design</I> <I> design</I> onto the <I> sheet</I> <I> sheet</I>.  This is
defined to work for all types of regions and designs, although in practice some
implementations may be more restrictive.  The additional drawing arguments
control the drawing of the design, depending on what sort of design is being
drawn.  For instance, if <I> design</I> is a path, then line style options may be
supplied.

<P>
If <I> design</I> is an area, draw-design paints the specified region of the
drawing plane with current ink of the sheet's medium.  If <I> design</I> is a
path, draw-design strokes the path with medium's current ink under control
of the line-style.  If <I> design</I> is a point, draw-design is the same as
draw-point.

<P>
If <I> design</I> is a color or an opacity, draw-design paints the entire
drawing plane (subject to the clipping region of the sheet's medium).

<P>
If <I> design</I> is +nowhere+, draw-design has no effect.

<P>
If <I> design</I> is a non-uniform design (see Chapter&nbsp;<A HREF="node134.html#patterns">14</A>),
draw-design paints the design, positioned at coordinates 31#31.

<P>
CLIM implementations are required to support draw-design for the following
cases:

<P>

<UL>
<LI>Designs created by the geometric object constructors, such as
make-line and make-ellipse, in conjunction with drawing arguments that
supply the drawing ink.

<P>
 </LI>
<LI>Designs created by calling compose-in on a color and an object
created by a geometric object constructor.

<P>
 </LI>
<LI>Designs created by calling compose-over on any of the cases above.

<P>
 </LI>
<LI>Designs returned by make-design-from-output-record.</LI>
</UL>

<P>
draw-pattern* sheet pattern x y <TT> &amp;key </TT>clipping-region transformation

<P>
Draws the pattern <I> pattern</I> on the <I> sheet</I> <I> sheet</I> at the
position 6#6. <I> pattern</I> is any design created by make-pattern.
<I> clipping-region</I> and <I> transformation</I> are as for
with-drawing-options or any of the drawing functions.

<P>
Drawing a bitmap consists of drawing an appropriately aligned and scaled pattern
constructed from the bitmap's bits.  A 1 in the bitmap corresponds to
+foreground+, while a 0 corresponds to +background+ if an opaque
drawing operation is desired, or to +nowhere+ if a transparent drawing
operation is desired.

<P>
Drawing a (colored) raster image consists of drawing an appropriately aligned
and scaled pattern constructed from the raster array and raster color map.

<P>
draw-pattern* could be implemented as follows, assuming that the functions
pattern-width and pattern-height return the width and height of the
pattern.

<P>
 
<PRE>

(defun draw-pattern* (sheet pattern x y &amp;key clipping-region transformation)
  (check-type pattern pattern)
  (let ((width (pattern-width pattern))
        (height (pattern-height pattern)))
    (if (or clipping-region transformation)
        (with-drawing-options (sheet :clipping-region clipping-region
                                     :transformation transformation)
          (draw-rectangle* sheet x y (+ x width) (+ y height)
                           :filled t :ink pattern))
        (draw-rectangle* sheet x y (+ x width) (+ y height)
                         :filled t :ink pattern))))
</PRE>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html2631"
 HREF="node140.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html2627"
 HREF="node134.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html2621"
 HREF="node138.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html2629"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2632"
 HREF="node140.html">Examples of More Complex</A>
<B> Up:</B> <A NAME="tex2html2628"
 HREF="node134.html">Patterned Designs</A>
<B> Previous:</B> <A NAME="tex2html2622"
 HREF="node138.html">Regions as Designs</A>
 &nbsp <B>  <A NAME="tex2html2630"
 HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>&</I>
<BR><I>2001-06-12</I>
</ADDRESS>
</BODY>
</HTML>
