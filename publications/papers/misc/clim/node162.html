<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Output Record Change Notification Protocol</TITLE>
<META NAME="description" CONTENT="Output Record Change Notification Protocol">
<META NAME="keywords" CONTENT="clim">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="clim.css">

<LINK REL="previous" HREF="node161.html">
<LINK REL="up" HREF="node159.html">
<LINK REL="next" HREF="node163.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html2978"
 HREF="node163.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html2974"
 HREF="node159.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html2970"
 HREF="node161.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html2976"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2979"
 HREF="node163.html">Types of Output Records</A>
<B> Up:</B> <A NAME="tex2html2975"
 HREF="node159.html">Output Records</A>
<B> Previous:</B> <A NAME="tex2html2971"
 HREF="node161.html">The Output Record ``Database''</A>
 &nbsp <B>  <A NAME="tex2html2977"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION06213000000000000000">
Output Record Change Notification Protocol</A>
</H2>

<P>
The following functions are called by programmers and by CLIM itself in order to
notify a parent output record when the bounding rectangle of one of its child output
record changes.

<P>
recompute-extent-for-new-child record child

<P>
This function is called whenever a new child is added to an output record.  Its
contract is to update the bounding rectangle of the <I> output record</I>
<I> record</I> to be large enough to completely contain the new child <I> output
record</I> <I> child</I>. The parent of <I> record</I> must be notified by calling
recompute-extent-for-changed-child.

<P>
add-output-record is required to call recompute-extent-for-new-child.

<P>
recompute-extent-for-changed-child record child 
                                                  old-min-x old-min-y old-max-x old-max-y 

<P>
This function is called whenever the bounding rectangle of one of the childs of
a record has been changed.  Its contract is to update the bounding rectangle of
the <I> output record</I> <I> record</I> to be large enough to completely contain
the new bounding rectangle of the child <I> output record</I> <I> child</I>.  All
of the ancestors of <I> record</I> must be notified by recursively calling
recompute-extent-for-changed-child.

<P>
Whenever the bounding rectangle of an output record is changed or
delete-output-record is called, recompute-extent-for-changed-child
must be called to inform the parent of the record that a change has taken place.

<P>
tree-recompute-extent record

<P>
This function is called whenever the bounding rectangles of a number of children
of a record have been changed, such as happens during table and graph
formatting.  Its contract is to compute the bounding rectangle large enough to
contain all of the children of the output record <I> record</I>, adjust the
bounding rectangle of the <I> output record</I> <I> record</I> accordingly, and
then call recompute-extent-for-changed-child on <I> record</I>.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html2978"
 HREF="node163.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html2974"
 HREF="node159.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html2970"
 HREF="node161.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html2976"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2979"
 HREF="node163.html">Types of Output Records</A>
<B> Up:</B> <A NAME="tex2html2975"
 HREF="node159.html">Output Records</A>
<B> Previous:</B> <A NAME="tex2html2971"
 HREF="node161.html">The Output Record ``Database''</A>
 &nbsp <B>  <A NAME="tex2html2977"
 HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>&</I>
<BR><I>2001-06-12</I>
</ADDRESS>
</BODY>
</HTML>
