<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Providing a Display Medium Type</TITLE>
<META NAME="description" CONTENT="Providing a Display Medium Type">
<META NAME="keywords" CONTENT="clim">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="clim.css">

<LINK REL="previous" HREF="node85.html">
<LINK REL="up" HREF="node83.html">
<LINK REL="next" HREF="node87.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html1915"
 HREF="node87.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html1911"
 HREF="node83.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html1907"
 HREF="node85.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html1913"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html1916"
 HREF="node87.html">Input Processing</A>
<B> Up:</B> <A NAME="tex2html1912"
 HREF="node83.html">Non-standard Sheet Types</A>
<B> Previous:</B> <A NAME="tex2html1908"
 HREF="node85.html">Dynamic Output Contract</A>
 &nbsp <B>  <A NAME="tex2html1914"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION04530000000000000000">
Providing a Display Medium Type</A>
</H1>

<P>
The graphics package independence of standard-output-contract is based on
the concept of display media.  Display media provide a context that allows the
window system to control output performed by clients.  In addition, display
media may provide auxiliary state for managing client imaging parameters.
Graphics packages are incorporated into Silica (that is, made usable by users of
standard output) by implementing a <I> display medium</I><A NAME="8751"></A> class.

<P>
A medium is an implementation or incorporation of a graphics package into the
Silica framework.  This section defines the protocols for implementing a medium
type and in particular a display medium type.

<P>
display-medium

<P>
Display mediums are subclasses of standard output that incorporate a graphics
package into the Silica framework.

<P>
A display medium class must implement two protocol: a client interface to the
graphics package (which is completely defined by the graphics package being
incorporated), and an interface required by Silica.  The client interface is
generally the same as the client interface to the graphics package (that's the
point of providing that graphics package) though slight additions may be made to
improve performance.  The standard-output-contract requirements are
sufficient to allow using the graphics package on a sheet.  They consist of the
following areas:

<P>

<UL>
<LI><B> View Control</B>.  Generic functions for setting the clipping region and
output transformation as required by windowing policies.  These routines must
not interfere with the use of clipping and transformations by the client, if the
client interface allows these things.

<P>
 </LI>
<LI><B> Output Protection</B>.  This includes validating that proper clipping
regions and transformation are being used, and locking out changes that might
influence these.  Protection granularity depends significantly on the graphics
package and on what kind of client interface to graphics routines are provided.

<P>
 </LI>
<LI><B> Integration of Types</B>. The region and transformation types used by
the graphics package should be integrated into the kernel or coerced at
appropriate interfaces, so that clients don't have to use different kinds of
regions to talk to windowing functionality and output functionality.</LI>
</UL>

<P>
 
(setf silica-clipping-region) display-medium
(setf silica-medium-transformation) display-medium

<P>
A display medium must clip and transform all output according to the values
returned by these functions.  A display medium class can provide methods on the
setf generic functions to update state or to mark the need to update state or
whatever.

<P>
device-clipping-region display-medium 
device-transformation display-medium

<P>
with-output-protection (dm) <TT> &amp;body </TT>body

<P>
All graphics routines provided by the display medium must insure that imaging
happens with a protected context using this macro.  This allows the window
system to insure that the display medium clipping regions and transformations
will not changed during the scope of the imaging operation.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html1915"
 HREF="node87.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html1911"
 HREF="node83.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html1907"
 HREF="node85.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html1913"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html1916"
 HREF="node87.html">Input Processing</A>
<B> Up:</B> <A NAME="tex2html1912"
 HREF="node83.html">Non-standard Sheet Types</A>
<B> Previous:</B> <A NAME="tex2html1908"
 HREF="node85.html">Dynamic Output Contract</A>
 &nbsp <B>  <A NAME="tex2html1914"
 HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>&</I>
<BR><I>2001-06-12</I>
</ADDRESS>
</BODY>
</HTML>
