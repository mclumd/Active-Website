<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Gestures and Gesture Names</TITLE>
<META NAME="description" CONTENT="Gestures and Gesture Names">
<META NAME="keywords" CONTENT="clim">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="clim.css">

<LINK REL="next" HREF="node202.html">
<LINK REL="previous" HREF="node198.html">
<LINK REL="up" HREF="node196.html">
<LINK REL="next" HREF="node201.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html3497"
 HREF="node201.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html3493"
 HREF="node196.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html3487"
 HREF="node199.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html3495"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html3498"
 HREF="node201.html">Standard Gesture Names</A>
<B> Up:</B> <A NAME="tex2html3494"
 HREF="node196.html">Extended Stream Input</A>
<B> Previous:</B> <A NAME="tex2html3488"
 HREF="node199.html">The Extended Input Stream</A>
 &nbsp <B>  <A NAME="tex2html3496"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION07130000000000000000"></A><A NAME="gesture-names"></A>
<BR>
Gestures and Gesture Names
</H1>

<P>
A <I> gesture</I><A NAME="22606"></A> is some sort of input action by the user, such as typing a
character or clicking a pointer button.  A <I> keyboard gesture</I><A NAME="22608"></A> refers to
those gestures that are input by typing something on the keyboard.  A
<I> pointer gesture</I><A NAME="22610"></A> refers to those gestures that are input by doing
something with the pointer, such as clicking a button.

<P>
A <I> gesture name</I><A NAME="22612"></A> is a symbol that gives a name to a set of similar
gestures.  Gesture names are used in order to provide a level of abstraction
above raw device events; greater portability can thus be achieved by avoiding
referring directly to platform-dependent constructs, such as character objects
that refer to a particular key on the keyboard.  For example, the :complete
gesture is used to name the gesture that causes the complete-input complete
the current input string; on Genera, this may correspond to the Complete key on
the keyboard (which generates a <code>#\Complete</code> character), but on a Unix
workstation, it may correspond to some other key.  Another example is
:select, which is commonly used to indicate a left button click on the
pointer.

<P>
Note that gesture names participate in a one-to-many mapping, that is, a single
gesture name can name a group of physical gestures.  For example, an :edit
might include both a pointer button click and a key press.

<P>
CLIM uses <I> event</I> objects to represent user gestures.  Some of the more
comment events are those of the class pointer-button-event.  Event objects
store the sheet associated with the event, a timestamp, and the modifier key
state (a quantity that indicates which modifier keys were held down on the
keyboard at the time the event occurred).  Pointer button event objects also
store the pointer object, the button that was clicked on the pointer, the window
the pointer was over and the 1#1 and 2#2 position within that window.  Keyboard
gestures store the key name.

<P>
In some contexts, the object used to represent a user gesture is referred to as
an <I> gesture object</I><A NAME="22615"></A>.  An gesture object might be exactly the same as an
event object, or might contain less information.  For example, for a keyboard
gesture that corresponds to a standard printing character, it may be enough to
represent the gesture object as a character.

<P>
define-gesture-name name type gesture-spec <TT> &amp;key </TT>unique

<P>
Defines a new gesture named by the symbol <I> name</I>.  <I> type</I> is the type of
gesture being created, and must be one of the symbols described below.
<I> gesture-spec</I> specifies the physical gesture that corresponds to the named
gesture; its syntax depends on the value of <I> type</I>.
define-gesture-name must expand into a call to add-gesture-name.

<P>
If <I> unique</I> is <I> true</I>, all old gestures named by <I> name</I> are first
removed.  <I> unique</I> defaults to nil.

<P>
None of the arguments to define-gesture-name is evaluated.

<P>
add-gesture-name name type gesture-spec

<P>
Adds a gesture named by the symbol <I> name</I> to the set of gesture names.
<I> type</I> is the type of gesture being created, and must be one of the symbols
described below.  <I> gesture-spec</I> specifies the physical gesture that
corresponds to the named gesture; its syntax depends on the value of <I> type</I>.

<P>
When <I> type</I> is :keyboard, <I> gesture-spec</I> is a list of the form
<I> (key-name . modifier-key-names)</I>.  <I> key-name</I> is the name of a
non-modifier key on the keyboard (see below).  <I> modifier-key-names</I> is a
(possibly empty) list of modifier key names (:shift, :control,
:meta, :super, and :hyper).

<P>
For the standard Common Lisp characters (the 95 ASCII printing characters
including <code>#\Space</code>), <I> key-name</I> is the character object itself.  For
the other ``semi-standard'' characters, <I> key-name</I> is a keyword symbol
naming the character (:newline, :linefeed, :return, :tab,
:backspace, :page, and :rubout).  CLIM implementations may extend
the set of key names on a per-port basic, but should choose a port-specific
package.  For example, the Genera port might include on-genera:help and
on-genera:complete.

<P>
The names of the modifier keys have been chosen to be uniform across all
platforms, even though not all platforms will have keys on the keyboard with
these names.  The per-port part of a CLIM implementation must simply choose a
sensible mapping from the modifier key names to the names of the keys on the
keyboard.  For example, a CLIM implementation on the Macintosh might map
:meta to the Command shift key, and :super to the Option shift key.

<P>
When <I> type</I> is :pointer-button, :pointer-button-press, or
:pointer-button-release, <I> gesture-spec</I> is a list of the form
<I> (button-name . modifier-key-names)</I>.  <I> button</I> is the name of a pointer
button (:left, :middle, or :right), and <I> modifier-key-names</I>
is as above.

<P>
CLIM implementations are permitted to have other values of <I> type</I> as an
extension, such as :pointer-motion or :timer.

<P>
As an example, the :edit gesture name above could be defined as follows
using define-gesture-name:

<P>
 
<PRE>

(define-gesture-name :edit :pointer-button (:left :meta))
(define-gesture-name :edit :keystroke (#\E :control))
</PRE>

<P>
delete-gesture-name name

<P>
Removes the gesture named by the symbol <I> name</I>.

<P>
event-matches-gesture-name-p event gesture-name

<P>
Returns <I> true</I> if the device event <I> event</I> ``matches'' the gesture
named by <I> gesture-name</I>.

<P>
For pointer button events, the event matches the gesture name when the pointer
button from the event matches the name of the pointer button one of the gesture
specifications named by <I> gesture-name</I>, and the modifier key state from the
event matches the names of the modifier keys in that same gesture specification.

<P>
For keyboard events, the event matches the gesture name when the key name from
the event matches the key name of one of the gesture specifications named by
<I> gesture-name</I>, and the modifier key state from the event matches the names
of the modifier keys in that same gesture specification.

<P>
modifier-state-matches-gesture-name-p modifier-state gesture-name

<P>
Returns <I> true</I> if the modifier key state from the device event <I> event</I>
matches the names of the modifier keys in one of the gesture specifications
named by <I> gesture-name</I>.

<P>
SWM The problem with all of the stuff above is that gesture names are
port-specific, but there is no port argument anywhere.

<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html3499"
 HREF="node201.html">Standard Gesture Names</A>
</UL>
<!--End of Table of Child-Links-->
<HR>
<!--Navigation Panel-->
<A NAME="tex2html3497"
 HREF="node201.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html3493"
 HREF="node196.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html3487"
 HREF="node199.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html3495"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html3498"
 HREF="node201.html">Standard Gesture Names</A>
<B> Up:</B> <A NAME="tex2html3494"
 HREF="node196.html">Extended Stream Input</A>
<B> Previous:</B> <A NAME="tex2html3488"
 HREF="node199.html">The Extended Input Stream</A>
 &nbsp <B>  <A NAME="tex2html3496"
 HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>&</I>
<BR><I>2001-06-12</I>
</ADDRESS>
</BODY>
</HTML>
