<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>The :ink Drawing Option</TITLE>
<META NAME="description" CONTENT="The :ink Drawing Option">
<META NAME="keywords" CONTENT="clim">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="clim.css">

<LINK REL="next" HREF="node121.html">
<LINK REL="previous" HREF="node119.html">
<LINK REL="up" HREF="node119.html">
<LINK REL="next" HREF="node121.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html2394"
 HREF="node121.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html2390"
 HREF="node119.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html2384"
 HREF="node119.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html2392"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2395"
 HREF="node121.html">Designs</A>
<B> Up:</B> <A NAME="tex2html2391"
 HREF="node119.html">Drawing in Color</A>
<B> Previous:</B> <A NAME="tex2html2385"
 HREF="node119.html">Drawing in Color</A>
 &nbsp <B>  <A NAME="tex2html2393"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION05410000000000000000">
The <TT> :ink</TT> Drawing Option</A>
</H1>

<P>
The :ink drawing option, used with the drawing functions described in
Chapter&nbsp;<A HREF="node105.html#graphics">12</A>, can take as its value:

<UL>
<LI>a color,

<P>
 </LI>
<LI>an opacity,

<P>
 </LI>
<LI>the constant +foreground-ink+,

<P>
 </LI>
<LI>the constant +background-ink+,

<P>
 </LI>
<LI>a flipping ink, or

<P>
 </LI>
<LI>other values described in Chapter&nbsp;<A HREF="node134.html#patterns">14</A></LI>
</UL>

<P>
More exactly, an ink can be any member of the class design.  For now you
may think of a design as a possibly translucent color.  More general designs are
described in Chapter&nbsp;<A HREF="node134.html#patterns">14</A>.

<P>
The drawing functions work by selecting a region of the drawing plane and
painting it with color.  The region to be painted is the intersection of the
shape specified by the drawing function and the :clipping-region drawing
option, which is then transformed by the :transformation drawing option.
The :ink drawing option is a design that specifies a new arrangement of
colors (and opacities) in this region of the medium's drawing plane.  Any
viewports or dataports attached to this drawing plane are updated accordingly.
The :ink drawing option is never affected by the :transformation
drawing option nor by the sheet transformation; this ensures that stipple
patterns on adjacent sheets join seamlessly.

<P>
DCPL The description of how the clipping region and transformations
contribute isn't good enough.  It is true if there are no other transformations
and clipping regions present, and both are specified in the current drawing
operation.  But it doesn't say what happens if things are nested.  I'm not sure
it needs to.  Rather, I think it should just say that the the region is clipped
by the current clipping region in effect, then transformed by the current
transform in effect, and that the rules for these are discussed in the drawing
options section.

<P>
Drawing consists conceptually of the following sequence of operations, performed
in parallel at every point in the drawing plane.  Of course, the actual
implementation does not involve an infinite (or large parallel) computation.

<P>

<OL>
<LI>The design specifies a color and an opacity at the point.  These can
depend on the drawing plane's current color and opacity, on the medium's
foreground color, and on the medium's background color.

<P>
 </LI>
<LI>The color blending function is applied to the design's color and opacity
and the drawing plane's color and opacity, returning a new color and opacity for
the point.

<P>
 </LI>
<LI>The drawing plane's color and opacity at that point are set to the new
color and opacity.</LI>
</OL>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html2394"
 HREF="node121.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html2390"
 HREF="node119.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html2384"
 HREF="node119.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html2392"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2395"
 HREF="node121.html">Designs</A>
<B> Up:</B> <A NAME="tex2html2391"
 HREF="node119.html">Drawing in Color</A>
<B> Previous:</B> <A NAME="tex2html2385"
 HREF="node119.html">Drawing in Color</A>
 &nbsp <B>  <A NAME="tex2html2393"
 HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>&</I>
<BR><I>2001-06-12</I>
</ADDRESS>
</BODY>
</HTML>
