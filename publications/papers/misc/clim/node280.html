<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Implementation Strategy</TITLE>
<META NAME="description" CONTENT="Implementation Strategy">
<META NAME="keywords" CONTENT="clim">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="clim.css">

<LINK REL="previous" HREF="node279.html">
<LINK REL="up" HREF="node279.html">
<LINK REL="next" HREF="node281.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html4568"
 HREF="node281.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html4564"
 HREF="node279.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html4560"
 HREF="node279.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html4566"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html4569"
 HREF="node281.html">Adaptive Gadget Panes</A>
<B> Up:</B> <A NAME="tex2html4565"
 HREF="node279.html">Abstract Gadgets</A>
<B> Previous:</B> <A NAME="tex2html4561"
 HREF="node279.html">Abstract Gadgets</A>
 &nbsp <B>  <A NAME="tex2html4567"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION08431000000000000000">
Implementation Strategy</A>
</H2>

<P>
 
<PRE>

(defclass gadget-pane (pane)
  ((client :initarg :client :accessor gadget-client)
   (id :initarg :id gadget-id))
  (:default-initargs :id nil :client nil))

;; Abstract definition.
(defclass abstract-push-button () () )

;; For each callback, do this.
(defmethod value-change-callback
           ((gadget abstract-push-button) client gadget-id value)
  (declare (ignore client gadget-id value)) 
  nil)

;; Implementation side.
;; Associates implementation name with abstract name (somehow)
;; so that frame managers can select it.
(define-abstract-gadget-implementation motif-push-button-pane 
                                       (abstract-push-button . supers)
  (slots)
  . option-forms)

---&gt;

(defclass motif-push-button-pane
          (abstract-push-button ,@supers gadget-pane)
  ,slots)
</PRE>

<P>
As part of pane realization, a frame manager must select (and realize) a
specific implementation class for an abstract class.  If the abstract name isn't
``registered'', the abstract name is typically assumed to be the name of a
specific (portable) implementation.  If the abstract name is registered, the
frame manager selects one of the associated implementations.  This behavior is
implemented by a default method on realize-frame-pane for the base
frame-manager class.  Of course, any individual frame manager is free to
violate these conventions as part of establishing its peculiar look and feel.
It's unwise to shadow completely this default fallback method on
(pane-type t).

<P>
gadget-id gadget

<P>
Returns the id of the gadget.  The id is typically a simple Lisp object that
uniquely identifies the gadgets.

<P>
gadget-client gadget

<P>
Returns the client of the gadget.  The client is usually an application frame.

<P>
gadget-value gadget

<P>
Returns the value of this gadget.  The interpretation of the value is
gadget-specific.  For example, a scroll bar's value might be a number between
0 and 1, while a toggle button's value is either t or nil.  See the
documentation of individual gadgets to find out how to interpret the value.

<P>
 
(setf gadget-value) value gadget <TT> &amp;key </TT>(call-callbacks t)

<P>
Sets the gadget's value to the specified value.  In addition, if
<I> call-callbacks</I> is <I> true</I>, all the generic operations that would be
invoked if the gadget had been clicked upon in normal use will be run.  Note
that the syntax is:
<PRE>

(setf (gadget-value gadget :call-callbacks nil) new-value)
</PRE>

<P>
activate-gadget gadget

<P>
Causes the host gadget to become active, that is, available for input.

<P>
deactivate-gadget gadget

<P>
Causes the host gadget to become inactive, that is, unavailable for input.  In
some environments this may cause the gadget to become grayed over; in others, no
visual effect may be detected.

<P>
note-gadget-activated client gadget

<P>
This is invoked after a gadget is made active (available for input).

<P>
note-gadget-deactivated client gadget

<P>
This is invoked after a gadget is made inactive (unavailable for input).

<P>
value-change-callback gadget-pane client gadget-id <TT> &amp;optional </TT>value

<P>
This is invoked when the value of a gadget is changed, either by the user or
programmatically.  For gadgets that do not have a value, the value of the
<I> value</I> argument is unspecified and should be ignored.

<P>
Programmers will typically class-specialize the <I> gadget-pane</I> and
<I> client</I> arguments, and eql-specialize the <I> gadget-id</I> argument.

<P>
CLIM implementations must implement a default method for
value-change-callback for every gadget class.

<P>
Most gadget classes have a set of additional callbacks, which are described
in detail in the description of the gadget class.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html4568"
 HREF="node281.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html4564"
 HREF="node279.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html4560"
 HREF="node279.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html4566"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html4569"
 HREF="node281.html">Adaptive Gadget Panes</A>
<B> Up:</B> <A NAME="tex2html4565"
 HREF="node279.html">Abstract Gadgets</A>
<B> Previous:</B> <A NAME="tex2html4561"
 HREF="node279.html">Abstract Gadgets</A>
 &nbsp <B>  <A NAME="tex2html4567"
 HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>&</I>
<BR><I>2001-06-12</I>
</ADDRESS>
</BODY>
</HTML>
