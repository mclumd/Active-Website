<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Examples of Applications</TITLE>
<META NAME="description" CONTENT="Examples of Applications">
<META NAME="keywords" CONTENT="clim">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="clim.css">

<LINK REL="previous" HREF="node257.html">
<LINK REL="up" HREF="node250.html">
<LINK REL="next" HREF="node262.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html4322"
 HREF="node262.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html4318"
 HREF="node250.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html4314"
 HREF="node260.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html4320"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html4323"
 HREF="node262.html">Panes</A>
<B> Up:</B> <A NAME="tex2html4319"
 HREF="node250.html">Application Frames</A>
<B> Previous:</B> <A NAME="tex2html4315"
 HREF="node260.html">Frame Manager Settings</A>
 &nbsp <B>  <A NAME="tex2html4321"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION08260000000000000000">
Examples of Applications</A>
</H1>

<P>
<PRE>

;; Define the mapping between the top-level command names and
;; the commands they invoke.
(define-menu-group insdel-menu
  (("Insert Pane" com-insdel-frame-insert-pane)
   ("Remove Pane" com-insdel-frame-remove-pane)))

;; Simple application frame
(define-application-frame insdel-frame ()
  (vbox 
    (added-panes :initform nil))
  (:pane
    ;; Get access to vbox slot
    (with-frame-slots (vbox)
      ;; Macro to create a vertical stack of panes.
      (vertically
        (realize-pane 'line-editor-pane 
                      :width '(30 :character) :text "This is a line editor") 
        (realize-pane 'horizontal-divider :size :large)
        (restraining
          (setf vbox
                (vertically
                  (realize-pane 'label-pane 
                                :spacing 3 :label "This is a label pane")
                  (realize-pane 'horizontal-divider :size :medium)
                  :fill))))))
  (:menu-group insdel-menu))

;; The :COMMAND-DEFINER T option implied by use of :MENU-GROUP
;; caused the following macro to be defined.  It is basically like
;; DEFINE-COMMAND, but automatically associates the command with this
;; particular application.
(define-insdel-frame-command com-insdel-frame-insert-pane () 
  (with-frame-slots (added-pane vbox)
    ;; This command creates a new label pane (and divider) and pushes
    ;; it onto the panes list.  Each invocation adds one more pane
    ;; Inserting after :fill.
    (push (realize-pane 'hline-pane :size :small)
          added-panes)
    (push (realize-pane 'label-pane 
                        :label "Another ...")
          added-panes)
    ;; Not exported from CLIM yet
    (ws:insert-panes vbox 
                     (list
                       (cadr added-panes)
                       (car added-panes)))
    (repaint-sheet vbox (sheet-region vbox))
    (notify-user (pane-frame vbox) "Pane Inserted")))

;; Remove one of the previously-added panes.
(define-insdel-frame-command com-insdel-frame-remove-pane () 
  (declare (ignore button))
  (with-slots (added-pane vbox) frame
    (if added-panes
        (progn
          (ws:remove-pane vbox (pop added-panes))
          (ws:remove-pane vbox (pop added-panes))
          (repaint-sheet vbox (sheet-region vbox))
          (notify-user (pane-frame vbox) "Pane removed"))
        (notify-user (pane-frame vbox) "Trying to delete my panes, eh?"))))

(defun insdel (&amp;rest settings)
  (make-frame 'insdel-frame
              :title "Insdel" :width 400 :height 200
              :user-settings settings
              :frame-manager (find-frame-manager)
              :enable t))
</PRE>
<BR><HR>
<ADDRESS>
<I>&</I>
<BR><I>2001-06-12</I>
</ADDRESS>
</BODY>
</HTML>
