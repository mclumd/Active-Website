<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Finding Applicable Presentations</TITLE>
<META NAME="description" CONTENT="Finding Applicable Presentations">
<META NAME="keywords" CONTENT="clim">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="clim.css">

<LINK REL="next" HREF="node220.html">
<LINK REL="previous" HREF="node218.html">
<LINK REL="up" HREF="node216.html">
<LINK REL="next" HREF="node220.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html3752"
 HREF="node220.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html3748"
 HREF="node216.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html3742"
 HREF="node218.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html3750"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html3753"
 HREF="node220.html">Translator Applicability</A>
<B> Up:</B> <A NAME="tex2html3749"
 HREF="node216.html">Presentation Translators</A>
<B> Previous:</B> <A NAME="tex2html3743"
 HREF="node218.html">Presentation Translator Functions</A>
 &nbsp <B>  <A NAME="tex2html3751"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION07263000000000000000">
Finding Applicable Presentations</A>
</H2>

<P>
find-innermost-applicable-presentation input-context window x y 
                                                 <TT> &amp;optional </TT>modifier-state frame 

<P>
Given an input context <I> input-context</I>, an output recording window stream
<I> window</I>, 1#1 and 2#2 positions <I> x</I> and <I> y</I>, returns the innermost
presentation whose sensitivity region contains <I> x</I> and <I> y</I> that matches
the innermost input context, using the translator matching algorithm described
below.  <I> modifier-state</I> is a mask that describes what modifier keys are
held down on the keyboard, and defaults to the values that corresponds to
whatever modifier keys are currently held down for <I> window</I> (see
event-modifier-key-state).

<P>
 
<I> frame</I> defaults to *application-frame*.

<P>
throw-highlighted-presentation presentation input-context button-press-event

<P>
Given a <I> presentation</I> <I> presentation</I>, input context
<I> input-context</I>, and a button press event (which contains the window,
pointer, 1#1 and 2#2 position of the pointer within the window, the button
pressed, and the modifier state), find the translator that matches the innermost
presentation in the innermost input context, then call the translator to produce
an object and a presentation type.  Finally, the matching input context that was
established by with-input-context will be terminated.

<P>
Note that it is possible that more than one translator having the same gesture
may be applicable to <I> presentation</I> in the specified input context.  In this
case, the translator having the highest priority will be chosen.  If there is
more than one having the same priority, it is unspecified what translator will
be chosen.

<P>
highlight-applicable-presentation frame stream input-context
                                            <TT> &amp;optional </TT>prefer-pointer-window

<P>
This is the ``input wait'' handler used by with-input-context on behalf of
the <I> application frame</I> <I> frame</I>.  It is responsible for locating the
innermost applicable presentation on <I> stream</I> in the input context
<I> input-context</I>, unhighlighting presentations that are not applicable, and
highlighting the presentation that is applicable.

<P>
 
<B> Implementation note:</B> This will probably use
frame-find-innermost-applicable-presentation-at-position to locate the
innermost presentation, and unhighlight-highlighted-presentation and
set-highlighted-presentation to unhighlight and highlight presentations.

<P>
set-highlighted-presentation stream presentation <TT> &amp;optional </TT>prefer-pointer-window

<P>
Highlights the <I> presentation</I> <I> presentation</I> on <I> stream</I>.  This
must call highlight-presentation methods if that is appropriate.

<P>
unhighlight-highlighted-presentation stream <TT> &amp;optional </TT>prefer-pointer-window

<P>
Unhighlights any highlighted presentations on <I> stream</I>.

<P>
frame-document-highlighted-presentation frame presentation input-context window x y stream

<P>
Produces pointer documentation for the <I> presentation</I> <I> presentation</I> in
the input context <I> input-context</I> on the window <I> window</I> at the point
indicated by <I> x</I> and <I> y</I>, on behalf of the <I> application frame</I>
<I> frame</I>.  The documentation is written to the <I> stream</I> <I> stream</I>.

<P>
Typically pointer documentation will consist of a brief description of each
translator that is applicable to the specified presentation in the specified
input context given the current modifier state for the window.  For example, the
following documentation might be produced when the pointer is pointing to a Lisp
expression when the input context is form:

<P>
 
<PRE>

Left: '(1 2 3); Middle: (DESCRIBE '(1 2 3)); Right: Menu
</PRE>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html3752"
 HREF="node220.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/icons/next_motif.gif"></A> 
<A NAME="tex2html3748"
 HREF="node216.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/icons/up_motif.gif"></A> 
<A NAME="tex2html3742"
 HREF="node218.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/icons/previous_motif.gif"></A> 
<A NAME="tex2html3750"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/icons/contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html3753"
 HREF="node220.html">Translator Applicability</A>
<B> Up:</B> <A NAME="tex2html3749"
 HREF="node216.html">Presentation Translators</A>
<B> Previous:</B> <A NAME="tex2html3743"
 HREF="node218.html">Presentation Translator Functions</A>
 &nbsp <B>  <A NAME="tex2html3751"
 HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>&</I>
<BR><I>2001-06-12</I>
</ADDRESS>
</BODY>
</HTML>
